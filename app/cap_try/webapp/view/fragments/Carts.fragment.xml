<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
    xmlns:table="sap.ui.table">
        <table:Table id="cartsFragmentTable"
                     visibleRowCount="auto"
                     selectionMode="Single"
                     rowSelectionChange="teste"
                     selectionBehavior="Row"
                     alternateRowColors="true"
                     class="sapUiResponsiveMargin"
                     rows="{ path: '/Cart',
                             parameters: { expand: 'items,company' },
                             sorter: { path: 'createdAt', descending: false } }">
            <table:extension>
                <OverflowToolbar>
                    <Title text="{i18n>carts_admin_report}" />
                    <ToolbarSpacer />
                    <Text text="{i18n>select_company_carts}" />
                    <Select width="auto" change="onCompanyChange" forceSelection="false" id="companyComboBox"
                            items="{ path: '/Company',
                                    sorter: { path: 'name' } }" >
                        <items>
                            <core:Item key="{ID}" text="{name}" />
                        </items>
                    </Select> 
                </OverflowToolbar>
            </table:extension>
            <table:columns>
                <table:Column width="20%">
                    <Label text="{i18n>id}" />
                    <table:template>
                        <Text text="{ID}" />
                    </table:template>
                </table:Column>
                <table:Column width="20%">
                    <Label text="{i18n>name}" />
                    <table:template>
                        <Text text="{name}" />
                    </table:template>
                </table:Column>
                <table:Column width="20%">
                    <Label text="{i18n>status}" />
                    <table:template>
                        <Text text="{status}" />
                    </table:template>
                </table:Column>
                <table:Column width="20%">
                    <Label text="{i18n>total}" />
                    <table:template>
                        <ObjectNumber number="{cart_total}"
                                        unit="{currency/code}" />
                    </table:template>
                </table:Column>
            </table:columns>
            <table:footer>
            </table:footer>
        </table:Table>
</core:FragmentDefinition> 